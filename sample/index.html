<html>
<title></title>

<head>
    <!-- bower:css -->
    <!-- endbower -->
    <!-- inject:css -->
    <!-- endinject -->
</head>

<body>
    <div data-ng-app="sample">
        <div data-ng-controller="sampleController as vm">
            <pre data-ng-bind="vm.keywords | json"></pre>
        </div>
    </div>
    <!-- bower:js -->
    <!-- endbower -->
    <!-- inject:js -->
    <!-- endinject -->
    <script type="text/javascript">
    angular
        .module('sample', ['ngZconnected'])
        .config(['ngZconnectedProvider', function(ngZconnectedProvider) {
            ngZconnectedProvider.setApiUrl('//jobsglobal.dev/api/v1')
        }])
        .controller('sampleController', ['$q', 'userService', 'authenticationService', 'employerService', function($q, userService, authenticationService, employerService) {
            var vm = this;
            $q.when(authenticationService.login({
                    username: 'test9@jobsglobal.com',
                    password: 'User12345'
                }))
                .then(function(resp) {
                    vm.keywords = employerService.cv.getSearchHistory();
                    employerService.cv.storeSearchKeyword('test1');
                    employerService.cv.storeSearchKeyword('test2');
                    employerService.cv.storeSearchKeyword('test3');
                    employerService.cv.storeSearchKeyword('test4');
                    employerService.cv.storeSearchKeyword('test5');
                    vm.keywords = employerService.cv.getSearchHistory();
                })
                .catch(function(error) {
                    console.log(error);
                });
        }]);
    </script>
</body>

</html>
